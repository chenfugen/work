webpackJsonp([13],{K3kU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("4YfN"),a=n.n(i),r={name:"deviceOnline",data:function(){var e=this;return{permisson:{info:!1},sweepModel:!1,filter:{productKey:"",identityId:"",sncode:"",netType:""},productList:[],netTypeList:[],columns:[{title:"设备MAC地址",key:"identityId",align:"center",render:function(t,n){return t("div",[t("span",e.dealNull(n.row.identityId))])}},{title:"SN码",key:"sncode",align:"center",render:function(t,n){return t("div",[t("span",e.dealNull(n.row.sncode))])}},{title:"名称",key:"name",align:"center",render:function(t,n){return t("div",[t("span",e.dealNull(n.row.name))])}},{title:"通信类型",key:"netType",align:"center",render:function(t,n){return t("div",[t("span",e.dealNull(n.row.netType))])}},{title:"状态",key:"status",align:"center",render:function(e,t){return e("div",[e("span","1"==t.row.status?"待产测":"2"==t.row.status?"产测中":"3"==t.row.status?"产测成功":"4"==t.row.status?"产测失败":"--")])}},{title:"操作",key:"action",width:150,align:"center",render:function(t,n){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.goInfo(n.row)}}},"详情")])}}]}},mounted:function(){this.getProductList(),this.getTableData(),this.handleDealPermission()},methods:{getTableData:function(){var e=a()({},this.filter),t=this.$api.manage_device_onlineDeviceList;this.$refs.HDTable.getListData(t,e)},getProductList:function(){var e=this,t=this.$api.manage_product_list;this.$Ax.get(t,{params:{pageNum:1,pageSize:1e3}}).then(function(t){e.productList=t.data.data}).catch(function(e){console.log(e)})},goInfo:function(e){this.$router.push({path:"/device/deviceInfo",name:"deviceInfo",query:{deviceId:e.deviceId}})},handleSwichModel:function(){this.sweepModel=!this.sweepModel,this.$refs.filter.resetFields(),this.sweepModel&&document.getElementById("mac").children[1].focus()},handleSwichSNcode:function(){document.getElementById("snCode").children[1].focus()},dealNull:function(e){return null===e||void 0===e?"--":e},handleDealPermission:function(){var e=JSON.parse(sessionStorage.getItem("menu"));for(var t in e)for(var n in e[t].children)if("在线设备"==e[t].children[n].name)for(var i in e[t].children[n].children)"设备详情"==e[t].children[n].children[i].name&&(this.permisson.info=e[t].children[n].children[i].checked)}}},s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"deviceOnline"}},[n("div",{staticClass:"actBox clearfloat"},[n("Button",{staticClass:"left",attrs:{type:"primary"},on:{click:e.getTableData}},[e._v("查询")]),e._v(" "),n("Button",{staticClass:"right",attrs:{type:"primary"},on:{click:e.handleSwichModel}},[e._v(e._s(e.sweepModel?"平常模式":"质检模式"))])],1),e._v(" "),n("Form",{ref:"filter",staticClass:"clearfloat",attrs:{model:e.filter,"label-width":0}},[n("FormItem",{staticClass:"input left marginRight",attrs:{prop:"identityId"}},[n("Input",{attrs:{id:"mac",placeholder:"MAC地址"},on:{"on-enter":e.handleSwichSNcode},model:{value:e.filter.identityId,callback:function(t){e.$set(e.filter,"identityId",t)},expression:"filter.identityId"}})],1),e._v(" "),n("FormItem",{staticClass:"input left marginRight",attrs:{prop:"sncode"}},[n("Input",{attrs:{id:"snCode",placeholder:"SN码"},on:{"on-enter":e.getTableData},model:{value:e.filter.sncode,callback:function(t){e.$set(e.filter,"sncode",t)},expression:"filter.sncode"}})],1),e._v(" "),n("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.sweepModel,expression:"!sweepModel"}],staticClass:"input left marginRight",attrs:{prop:"productKey"}},[n("Select",{staticClass:"input marginRight",attrs:{placeholder:"产品名称",clearable:""},model:{value:e.filter.productKey,callback:function(t){e.$set(e.filter,"productKey",t)},expression:"filter.productKey"}},e._l(e.productList,function(t,i){return n("Option",{key:t.productKey,attrs:{value:t.productKey}},[e._v(e._s(t.name))])}))],1),e._v(" "),n("FormItem",{directives:[{name:"show",rawName:"v-show",value:!e.sweepModel,expression:"!sweepModel"}],staticClass:"input left marginRight",attrs:{prop:"netType"}},[n("Select",{staticClass:"input marginRight",attrs:{placeholder:"通信类型",clearable:""},model:{value:e.filter.netType,callback:function(t){e.$set(e.filter,"netType",t)},expression:"filter.netType"}},[n("Option",{attrs:{value:"NET_WIFI"}},[e._v("NET_WIFI")]),e._v(" "),n("Option",{attrs:{value:"2G"}},[e._v("2G")])],1)],1)],1),e._v(" "),n("div",{staticClass:"table clearfloat marginTop"},[n("HDTable",{ref:"HDTable",attrs:{columns:e.columns}})],1)],1)};s._withStripped=!0;var l={render:s,staticRenderFns:[]},o=l;var c=!1;var d=n("C7Lr")(r,o,!1,function(e){c||n("f8Ae")},"data-v-7aba7838",null);d.options.__file="src/views/device/deviceOnline.vue";t.default=d.exports},f8Ae:function(e,t,n){var i=n("i7uR");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("FIqI")("65618e6d",i,!1,{})},i7uR:function(e,t,n){(e.exports=n("UTlt")(!0)).push([e.i,"\n.actBox[data-v-7aba7838] {\n\tmargin-bottom: 20px;\n}\n","",{version:3,sources:["/Users/nelson/workspace/qinyuan-chance-farm-web/static-files/src/views/device/deviceOnline.vue"],names:[],mappings:";AACA;CACC,oBAAoB;CACpB",file:"deviceOnline.vue",sourcesContent:["\n.actBox[data-v-7aba7838] {\n\tmargin-bottom: 20px;\n}\n"],sourceRoot:""}])}});